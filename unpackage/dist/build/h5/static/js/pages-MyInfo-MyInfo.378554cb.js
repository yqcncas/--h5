(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-MyInfo-MyInfo"],{"1aa3":function(e,i,t){"use strict";var a=t("ee27");t("a15b"),t("498a"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("96cf");var r=a(t("c964")),n=(a(t("a8c5")),{onLoad:function(e){console.log(e);var i=JSON.parse(uni.getStorageSync("myUserInfo"));console.log(i),this.userName=i.name,this.userDetailAddress=i.address,this.userAvatar=i.avatar,this.userAddress=i.provinceString,this.GetQnToken()},data:function(){return{cityPickerValueDefault:[0,0,1],pickerText:"",qnToken:"",userName:"",userAddress:"",userDetailAddress:"",province:"",userAvatar:""}},methods:{showAddress:function(){this.$refs.simpleAddress.open()},onConfirm:function(e){this.userAddress=e.labelArr.join(""),this.province=e.areaCode},GetQnToken:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var t;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.$fetch(e.$api.uptoken,{},"GET");case 2:t=i.sent,e.qnToken=t.data;case 4:case"end":return i.stop()}}),i)})))()},saveUserInfo:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var t;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(""!=e.userName.trim()){i.next=2;break}return i.abrupt("return",uni.showToast({icon:"none",title:"请输入您的姓名"}));case 2:return i.next=4,e.$fetch(e.$api.editUserInfo,{address:e.userDetailAddress,avatar:e.userAvatar,province:e.province,provinceString:e.userAddress,userName:e.userName},"POST","FORM");case 4:t=i.sent,console.log(t),0==t.code?(uni.showToast({icon:"success",title:t.msg}),setTimeout((function(){uni.reLaunch({url:"../My/My"})}),1e3)):uni.showToast({icon:"none",title:t.msg});case 7:case"end":return i.stop()}}),i)})))()},handleAvatar:function(){var e=this;uni.chooseImage({count:1,success:function(i){i.tempFilePaths&&uni.uploadFile({url:e.$api.unloadLocation,filePath:i.tempFilePaths[0],name:"file",formData:{token:e.qnToken},success:function(i){console.log(JSON.parse(i.data).hash),e.userAvatar=e.$api.baseLocation+JSON.parse(i.data).hash,console.log(e.userAvatar),uni.showToast({icon:"success",title:"上传成功"})}})}})}}});i.default=n},4041:function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAaCAYAAAHJb+yRAAAABGdBTUEAALGPC/xhBQAAASdJREFUOBGdUjEOwjAMdNuJSoiFBT7AA1hZeTUrK19ghIUNqQwwwEX1yU6TtCVSG8e+OzuORexq5bCvraNkr+W4lfBTFOhqu50BGKTQ6LF1J68NoSoAhzor61Q71KAIfwCEkR5fIS0y4dzJ+dL7uSWTWCABSrEpAGw0oPtKdtVbPkucYVPB1tLK4v6Q0w0gV6QNIMgVN5CBn9GgKOREvk6uTxuEXUMWBnqRUmrA0spTSuGaJRD7kAOxD6gDK+7HYBj14QBGs5xC/A4AEZAKEpALBkApCIDp5HCamCK+mj41AGPLjYMFZ0fDgn42u2CrsJgxIQooaa7QQGCuUFZgqtCoAIRK1yoKlIj61EmBKUS9ohOYQ3QC/xApkCKPDY+S3Q4hfM454fAFTFio28am26YAAAAASUVORK5CYII="},"5b8f":function(e,i,t){var a=t("9eaf");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=t("4f06").default;r("2bc9fa0c",a,!0,{sourceMap:!1,shadowMode:!1})},"75e8":function(e,i,t){"use strict";var a={"simple-address":t("a8c5").default},r=function(){var e=this,i=e.$createElement,a=e._self._c||i;return a("v-uni-view",{staticClass:"myinfo"},[a("v-uni-view",{staticClass:"myinfo-wrapper"},[a("v-uni-view",{staticClass:"myinfo-wrapper-avatar",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.handleAvatar.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"myinfo-wrapper-avatar-box"},[a("v-uni-view",{staticClass:"myinfo-wrapper-avatar-text"},[e._v("头像")]),a("v-uni-view",{staticClass:"myinfo-wrapper-avatar-right"},[a("v-uni-image",{staticClass:"right-avatar",class:{ciecle:e.userAvatar},attrs:{src:e.userAvatar?e.userAvatar:"../../static/image/index/2.png",mode:"aspectFill"}}),a("v-uni-image",{staticClass:"jiantou",attrs:{src:t("4041"),mode:""}})],1)],1)],1),a("v-uni-view",{staticClass:"myinfo-wrapper-item"},[a("v-uni-view",{staticClass:"myinfo-wrapper-item-box"},[a("v-uni-view",{staticClass:"myinfo-wrapper-item-left"},[e._v("姓名")]),a("v-uni-input",{staticClass:"user-name",attrs:{type:"text",placeholder:"请输入你的昵称","placeholder-style":"font-family: PingFangSC-Regular;font-size: 14px;color: #414141;letter-spacing: -0.34px;"},model:{value:e.userName,callback:function(i){e.userName=i},expression:"userName"}})],1)],1),a("v-uni-view",{staticClass:"myinfo-wrapper-item"},[a("v-uni-view",{staticClass:"myinfo-wrapper-item-box"},[a("v-uni-view",{staticClass:"myinfo-wrapper-item-left"},[e._v("所在地区")]),a("v-uni-view",{staticClass:"myinfo-wrapper-item-area-right",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.showAddress.apply(void 0,arguments)}}},[a("v-uni-text",[e._v(e._s(e.userAddress?e.userAddress:"请选择省市区"))]),a("v-uni-image",{attrs:{src:t("5c8b"),mode:""}})],1)],1)],1),a("v-uni-view",{staticClass:"myinfo-wrapper-item"},[a("v-uni-view",{staticClass:"myinfo-wrapper-item-box"},[a("v-uni-view",{staticClass:"myinfo-wrapper-item-left"},[e._v("详细地址")]),a("v-uni-input",{staticClass:"detailAddress",attrs:{type:"text",placeholder:"请输入详细地址","placeholder-style":"font-family: PingFangSC-Regular;font-size: 14px;color: #414141;letter-spacing: -0.34px;"},model:{value:e.userDetailAddress,callback:function(i){e.userDetailAddress=i},expression:"userDetailAddress"}})],1)],1)],1),a("v-uni-view",{staticClass:"submit-button",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.saveUserInfo.apply(void 0,arguments)}}},[e._v("保存")]),a("simple-address",{ref:"simpleAddress",attrs:{pickerValueDefault:e.cityPickerValueDefault,themeColor:"#007AFF"},on:{onConfirm:function(i){arguments[0]=i=e.$handleEvent(i),e.onConfirm.apply(void 0,arguments)}}})],1)},n=[];t.d(i,"b",(function(){return r})),t.d(i,"c",(function(){return n})),t.d(i,"a",(function(){return a}))},"7e79":function(e,i,t){"use strict";t.r(i);var a=t("1aa3"),r=t.n(a);for(var n in a)"default"!==n&&function(e){t.d(i,e,(function(){return a[e]}))}(n);i["default"]=r.a},"9eaf":function(e,i,t){var a=t("24fb"),r=t("1de5"),n=t("9e19");i=a(!1);var o=r(n);i.push([e.i,".myinfo[data-v-178e9552]{width:100%;height:100%;overflow:hidden;background-image:url("+o+");background-repeat:no-repeat;background-size:100% 100%}.myinfo .myinfo-wrapper[data-v-178e9552]{width:%?714?%;border-radius:8px;overflow:hidden;margin:0 auto;margin-top:%?16?%;-webkit-box-sizing:border-box;box-sizing:border-box}.myinfo .myinfo-wrapper .myinfo-wrapper-avatar[data-v-178e9552]{width:100%;height:%?182?%;padding-left:%?32?%;padding-right:%?32?%;background:#fcca17;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.myinfo .myinfo-wrapper .myinfo-wrapper-avatar .myinfo-wrapper-avatar-box[data-v-178e9552]{width:100%;height:100%;border-bottom:%?1?% solid #fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.myinfo .myinfo-wrapper .myinfo-wrapper-avatar .myinfo-wrapper-avatar-text[data-v-178e9552]{font-family:PingFangSC-Medium;font-size:14px;font-weight:700;color:#121212;letter-spacing:0}.myinfo .myinfo-wrapper .myinfo-wrapper-avatar .myinfo-wrapper-avatar-right[data-v-178e9552]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.myinfo .myinfo-wrapper .myinfo-wrapper-avatar .myinfo-wrapper-avatar-right .right-avatar[data-v-178e9552]{width:%?134?%;height:%?128?%;margin-right:%?20?%}.myinfo .myinfo-wrapper .myinfo-wrapper-avatar .myinfo-wrapper-avatar-right .right-avatar.ciecle[data-v-178e9552]{border-radius:50%}.myinfo .myinfo-wrapper .myinfo-wrapper-avatar .jiantou[data-v-178e9552]{width:%?16?%;height:%?26?%}.myinfo .myinfo-wrapper .myinfo-wrapper-item[data-v-178e9552]{width:100%;height:%?98?%;padding:0 %?32?%;background:#fcca17;-webkit-box-sizing:border-box;box-sizing:border-box}.myinfo .myinfo-wrapper .myinfo-wrapper-item:last-child .myinfo-wrapper-item-box[data-v-178e9552]{border-bottom:0}.myinfo .myinfo-wrapper .myinfo-wrapper-item .myinfo-wrapper-item-box[data-v-178e9552]{width:100%;height:100%;border-bottom:%?1?% solid #fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.myinfo .myinfo-wrapper .myinfo-wrapper-item .myinfo-wrapper-item-box .myinfo-wrapper-item-left[data-v-178e9552]{font-weight:700;font-family:PingFangSC-Medium;font-size:14px;color:#161616;letter-spacing:-.34px;-webkit-box-sizing:border-box;box-sizing:border-box}.myinfo .myinfo-wrapper .myinfo-wrapper-item .myinfo-wrapper-item-box .myinfo-wrapper-item-area-right[data-v-178e9552]{height:100%;-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:%?66?%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.myinfo .myinfo-wrapper .myinfo-wrapper-item .myinfo-wrapper-item-box .myinfo-wrapper-item-area-right uni-image[data-v-178e9552]{width:%?26?%;height:%?30?%;margin-left:%?8?%;-webkit-box-sizing:border-box;box-sizing:border-box}.myinfo .myinfo-wrapper .myinfo-wrapper-item .myinfo-wrapper-item-box .user-name[data-v-178e9552]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:100%;margin-left:%?120?%;-webkit-box-sizing:border-box;box-sizing:border-box}.myinfo .myinfo-wrapper .myinfo-wrapper-item .myinfo-wrapper-item-box .detailAddress[data-v-178e9552]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:100%;margin-left:%?66?%;-webkit-box-sizing:border-box;box-sizing:border-box}.myinfo .submit-button[data-v-178e9552]{width:%?576?%;height:%?88?%;line-height:%?88?%;font-family:PingFangSC-Medium;font-size:18px;color:#fff;letter-spacing:0;text-align:center;background:#ff9515;border-radius:22px;position:fixed;bottom:%?30?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}",""]),e.exports=i},d248:function(e,i,t){"use strict";t.r(i);var a=t("75e8"),r=t("7e79");for(var n in r)"default"!==n&&function(e){t.d(i,e,(function(){return r[e]}))}(n);t("d395");var o,s=t("f0c5"),p=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,"178e9552",null,!1,a["a"],o);i["default"]=p.exports},d395:function(e,i,t){"use strict";var a=t("5b8f"),r=t.n(a);r.a}}]);