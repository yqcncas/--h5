(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ShopBuy-ShopBuy"],{"1de5":function(e,t,s){"use strict";e.exports=function(e,t){return t||(t={}),e=e&&e.__esModule?e.default:e,"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},"299e":function(e,t,s){var i=s("24fb"),o=s("1de5"),n=s("9e19");t=i(!1);var a=o(n);t.push([e.i,".shopbuy[data-v-77cb123a]{width:100%;height:100%;overflow:hidden;background-image:url("+a+");background-repeat:no-repeat;background-size:100% 100%}.shopbuy .shopbuy-address[data-v-77cb123a]{width:%?714?%;height:%?150?%;margin:0 auto;margin-top:%?16?%;padding:0 %?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;background:#fcca17;border-radius:8px;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.shopbuy .shopbuy-address .shopbuy-address-left[data-v-77cb123a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.shopbuy .shopbuy-address .shopbuy-address-left .shopbuy-address-left-icon uni-image[data-v-77cb123a]{width:%?50?%;height:%?50?%}.shopbuy .shopbuy-address .shopbuy-address-left .shopbuy-address-info[data-v-77cb123a]{margin-left:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:PingFangSC-Regular;font-size:14px;color:#2c2c2c;letter-spacing:-.34px}.shopbuy .shopbuy-address .shopbuy-address-left .shopbuy-address-info .shopbuy-address-info-top[data-v-77cb123a]{padding-bottom:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.shopbuy .shopbuy-address .shopbuy-address-left .shopbuy-address-info .shopbuy-address-info-top uni-text[data-v-77cb123a]:nth-child(2){padding-left:%?20?%;padding-right:%?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;letter-spacing:.34px}.shopbuy .shopbuy-address .shopbuy-address-left .shopbuy-address-info .shopbuy-address-info-bottom[data-v-77cb123a]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden}.shopbuy .shopbuy-address .shopbuy-address-left .shopbuy-address-info .shopbuy-address-info-bottom uni-text[data-v-77cb123a]:nth-child(2){padding-left:%?15?%;-webkit-box-sizing:border-box;box-sizing:border-box}.shopbuy .shopbuy-address .shopbuy-address-left .shopbuy-address-info .noAddress[data-v-77cb123a]{font-size:14px;font-weight:700}.shopbuy .shopbuy-address .shopbuy-address-right uni-image[data-v-77cb123a]{width:%?16?%;height:%?26?%}.shopbuy .shopbuy-main[data-v-77cb123a]{padding-bottom:%?200?%;border-radius:8px;overflow:hidden}.shopbuy .shopbuy-main .shopbuy-main-item[data-v-77cb123a]{width:%?714?%;height:%?268?%;background:#ff9515;border-radius:8px;padding-left:%?20?%;overflow:hidden;margin:0 auto;margin-top:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box}.shopbuy .shopbuy-main .shopbuy-main-item .shopbuy-main-item-left uni-image[data-v-77cb123a]{width:%?232?%;height:%?228?%;border-radius:%?6?%;overflow:hidden;vertical-align:bottom}.shopbuy .shopbuy-main .shopbuy-main-item .shopbuy-main-item-right[data-v-77cb123a]{margin-left:%?18?%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-flex:1;-webkit-flex:1;flex:1}.shopbuy .shopbuy-main .shopbuy-main-item .shopbuy-main-item-right .shopbuy-main-item-right-top[data-v-77cb123a]{font-family:PingFangSC-Regular;font-size:12px;color:#fff;letter-spacing:-.29px;-webkit-box-sizing:border-box;box-sizing:border-box;padding-right:%?12?%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.shopbuy .shopbuy-main .shopbuy-main-item .shopbuy-main-item-right .shopbuy-main-item-right-bottom[data-v-77cb123a]{font-family:PingFangSC-Regular;font-size:14px;color:#fff;letter-spacing:-.34px;text-align:right;padding-right:%?30?%;padding-top:%?112?%;-webkit-box-sizing:border-box;box-sizing:border-box}.shopbuy .shopbuy-main .shopbuy-main-item .shopbuy-main-item-right .shopbuy-main-item-right-bottom span[data-v-77cb123a]{font-family:PingFangSC-Medium;font-size:18px;color:#fff}.shopbuy .shopbuy-submit[data-v-77cb123a]{text-align:center;position:fixed;bottom:%?30?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.shopbuy .shopbuy-submit .shopbuy-submit-text[data-v-77cb123a]{font-family:PingFangSC-Medium;font-size:14px;color:#000;letter-spacing:0;font-weight:700;padding-bottom:%?8?%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.shopbuy .shopbuy-submit .shopbuy-submit-text span[data-v-77cb123a]{font-weight:400;font-family:PingFangSC-Medium;font-size:18px;color:#63c3d1}.shopbuy .shopbuy-submit .shopbuy-submit-text .newPeople[data-v-77cb123a]{font-size:14px!important;color:#000!important}.shopbuy .shopbuy-submit .shopbuy-submit-text .newPeople span[data-v-77cb123a]{font-size:14px!important;color:#ff5415!important}.shopbuy .shopbuy-submit .shopbuy-submit-button[data-v-77cb123a]{width:%?576?%;height:%?88?%;line-height:%?88?%;text-align:center;font-family:PingFangSC-Medium;font-size:18px;color:#fff;letter-spacing:0;background:#ff9515;border-radius:22px;-webkit-box-sizing:border-box;box-sizing:border-box}",""]),e.exports=t},"31ce":function(e,t,s){"use strict";var i,o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"shopbuy"},[i("v-uni-view",{staticClass:"shopbuy-address",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goToAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"shopbuy-address-left"},[i("v-uni-view",{staticClass:"shopbuy-address-left-icon"},[i("v-uni-image",{attrs:{src:s("8e38"),mode:""}})],1),i("v-uni-view",{staticClass:"shopbuy-address-info"},["{}"==JSON.stringify(e.userAddress)?i("v-uni-view",{staticClass:"noAddress"},[e._v("请选择您的地址")]):i("v-uni-view",{staticClass:"info-show"},[i("v-uni-view",{staticClass:"shopbuy-address-info-top"},[i("v-uni-text",[e._v("收货人:")]),i("v-uni-text",[e._v(e._s(e.userAddress.name))]),i("v-uni-text",[e._v(e._s(e.userAddress.mobile))])],1),i("v-uni-view",{staticClass:"shopbuy-address-info-bottom"},[i("v-uni-text",[e._v("收货地址:")]),i("v-uni-text",[e._v(e._s(e.userAddress.detailAddress))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"shopbuy-address-right"},[i("v-uni-image",{attrs:{src:s("4f0c"),mode:""}})],1)],1),i("v-uni-scroll-view",{staticStyle:{height:"calc(100vh)"},attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"shopbuy-main"},[i("v-uni-view",{staticClass:"shopbuy-main-item"},[i("v-uni-view",{staticClass:"shopbuy-main-item-left"},[i("v-uni-image",{attrs:{src:e.shopInfo.pic[0],mode:""}})],1),i("v-uni-view",{staticClass:"shopbuy-main-item-right"},[i("v-uni-view",{staticClass:"shopbuy-main-item-right-top"},[e._v(e._s(e.shopInfo.productName))]),i("v-uni-view",{staticClass:"shopbuy-main-item-right-bottom"},[e._v("商品合计：¥"),i("span",[e._v(e._s(e.shopInfo.price))])])],1)],1)],1)],1),i("v-uni-view",{staticClass:"shopbuy-submit"},[i("v-uni-view",{staticClass:"shopbuy-submit-text"},[e._v("实付："),i("span",[e._v(e._s(e.discountPrice)+"JK")]),e.disPrice>0?i("span",{staticClass:"newPeople"},[e._v("(新人优惠"),i("span",[e._v(e._s(e.disPrice))]),e._v("JK)")]):e._e()]),i("v-uni-view",{staticClass:"shopbuy-submit-button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPay.apply(void 0,arguments)}}},[e._v("立即领取或支付")])],1)],1)},n=[];s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return i}))},"4f0c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAcCAYAAABoMT8aAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAHAAAAADxpZzzAAAAvklEQVQ4Ee2SywnCUBBFowFxbQXpIAXYjgt3IoINCXZgD4JlCNbgQtRzwYEQ8pkZ3AheOLwJmTmBlymKL2aFa5v1afj2ISQpGZrCDipQlvCEsx7GIsELTlBDBYpbIoHygJTEBGlJU5CStAVhSZcgJOkTuCVDApdkTDAkufPyogZv5jQewVb+Sr3QGnuj9RaWCYVwZUbXAezrOjeuSZq6hvf/4f4b+NEL0za2l8T9n+021hS2ZeHhpiQ9bJLw+QakJ1lK3FAkRwAAAABJRU5ErkJggg=="},"83a0":function(e,t,s){"use strict";s.r(t);var i=s("31ce"),o=s("e311");for(var n in o)"default"!==n&&function(e){s.d(t,e,(function(){return o[e]}))}(n);s("acfe");var a,r=s("f0c5"),d=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"77cb123a",null,!1,i["a"],a);t["default"]=d.exports},"8de0":function(e,t,s){var i=s("299e");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=s("4f06").default;o("65cac9d6",i,!0,{sourceMap:!1,shadowMode:!1})},"8e38":function(e,t,s){e.exports=s.p+"static/img/14.bdf7ffd5.png"},"9e19":function(e,t,s){e.exports=s.p+"static/img/5.639895c1.png"},acfe:function(e,t,s){"use strict";var i=s("8de0"),o=s.n(i);o.a},e311:function(e,t,s){"use strict";s.r(t);var i=s("e378"),o=s.n(i);for(var n in i)"default"!==n&&function(e){s.d(t,e,(function(){return i[e]}))}(n);t["default"]=o.a},e378:function(e,t,s){"use strict";var i=s("ee27");s("b680"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s("96cf");var o=i(s("c964")),n={onLoad:function(e){this.shopInfo=JSON.parse(e.shopInfo),console.log(this.shopInfo),this.initAddressDefault(),this.initFirstOrder()},onShow:function(){uni.getStorageSync("userAddress")&&(this.userAddress=JSON.parse(uni.getStorageSync("userAddress")),console.log(this.userAddress),uni.removeStorageSync("userAddress"))},data:function(){return{userAddress:{},shopInfo:{},orderId:0,discountPrice:0,disPrice:0}},methods:{goToAddress:function(){uni.setStorageSync("enterWay",1),uni.navigateTo({url:"../Address/Address"})},showPay:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("{}"!=JSON.stringify(e.userAddress)){t.next=2;break}return t.abrupt("return",uni.showToast({icon:"none",title:"请选择收货地址"}));case 2:return t.next=4,e.$fetch(e.$api.order,{addressId:e.userAddress.addressId,productId:e.shopInfo.productId},"POST","FORM");case 4:s=t.sent,console.log(s),0==s.code&&(e.orderId=s.data),uni.showModal({title:"确认领取或购买",content:"是否确认领取或购买该商品",success:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(s){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s.confirm){t.next=9;break}return console.log("用户点击确定"),t.next=4,e.$fetch(e.$api.pay,{orderId:e.orderId},"POST","FORM");case 4:i=t.sent,console.log(i),0==i.code?(uni.showToast({icon:"success",title:i.msg}),setTimeout((function(){uni.reLaunch({url:"../Order/Order"})}),1e3)):uni.showToast({icon:"none",title:i.msg}),t.next=10;break;case 9:s.cancel&&(uni.showToast({icon:"none",title:"取消付款"}),setTimeout((function(){uni.reLaunch({url:"../Order/Order"})}),1e3));case 10:case"end":return t.stop()}}),t)})));function s(e){return t.apply(this,arguments)}return s}()});case 8:case"end":return t.stop()}}),t)})))()},initAddressDefault:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$fetch(e.$api.addressDefault,{},"GET","FORM");case 2:s=t.sent,console.log(s.data),void 0!=s.data&&(s.data.detailAddress=s.data.provinceString+s.data.address,e.userAddress=s.data,console.log(e.userAddress));case 5:case"end":return t.stop()}}),t)})))()},initFirstOrder:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.userAddress),t.next=3,e.$fetch(e.$api.firstOrder,{productId:e.shopInfo.productId},"POST","FORM");case 3:s=t.sent,console.log(s),0==s.code&&(e.discountPrice=s.data,e.disPrice=(e.shopInfo.jkPrice-e.discountPrice).toFixed(2));case 6:case"end":return t.stop()}}),t)})))()}}};t.default=n}}]);